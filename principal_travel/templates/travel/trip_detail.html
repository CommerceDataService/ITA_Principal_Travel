{% extends 'base.html' %}

{% block content %}
<a class='usa-button' href="{% url 'trip_edit' pk=trip.pk %}">Edit</a>
<a class='usa-button' href="{% url 'trip_delete' pk=trip.pk %}">Delete</a>
<div class="usa-accordion-bordered">
  <ul class="usa-unstyled-list">
    <li>
      <button class="usa-button-unstyled" aria-expanded="false" aria-controls="collapsible-0">
      {{object.principal.first_name}} {{object.principal.last_name}}
      </button>
      <div id="collapsible-0" aria-hidden="true" class="usa-accordion-content">
        <p>Title: {{object.principal.title}}</p>
        <p>Office: {{object.principal.office.long_name}} ({{object.principal.office.short_name}})</p>
        <p>Agency: {{object.principal.office.agency.name}}</p>
        <p>Region: {{object.principal.region}}</p>
        <p>Career: {{object.principal.career}}</p>
      </div>
    </li>

    <li>
      <button class="usa-button-unstyled" aria-expanded="true" aria-controls="collapsible-1">
      Itinerary
      </button>
      <div id="collapsible-1" aria-hidden="false" class="usa-accordion-content">
        <p>Start Date: {{object.start_date}}</p>
        <p>End Date: {{object.end_date}}</p>
        <p>Number of Travelers: {{object.no_of_travelers}}</p>
        <p>Travelers Note: {{object.no_of_travelers_note}}</p>
        {% for event in object.events.all %}
          <p>Event {{forloop.counter}}: {{event.name}}</p>
          <ul>
            <li>Type: {{event.event_type.name}}</li>
            <li>Description: {{event.description}}</li>
            <li>Location: {{event.cities_light_city}}, {{event.cities_light_country}}</li>
            <li>Press: {{event.press}}</li>
            <li>Press Note: {{event.press_note}}</li>
          </ul>
        {% endfor %}
      </div>
    </li>
    <p>Author: {{object.author}} on {{object.created_on}}</p>
    <p>Edited by: {{object.updated_by}} on {{object.edited_on}}</p>


  </ul>
</div>

{% endblock %}
